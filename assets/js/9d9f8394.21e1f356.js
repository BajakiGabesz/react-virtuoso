"use strict";(self.webpackChunkreact_virtuoso=self.webpackChunkreact_virtuoso||[]).push([[9360],{3576:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>d});var n=o(959);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):s(s({},t),e)),o},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),c=u(o),h=i,d=c["".concat(l,".").concat(h)]||c[h]||m[h]||r;return o?n.createElement(d,s(s({ref:t},p),{},{components:o})):n.createElement(d,s({ref:t},p))}));function d(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=o.length,s=new Array(r);s[0]=h;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a[c]="string"==typeof e?e:i,s[1]=a;for(var u=2;u<r;u++)s[u]=o[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,o)}h.displayName="MDXCreateElement"},4974:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>u,toc:()=>c});var n=o(2564),i=o(3102),r=(o(959),o(3576)),s=["components"],a={id:"troubleshooting",title:"Troubleshooting React Virtuoso",sidebar_label:"Troubleshooting",slug:"/troubleshooting",sidebar_position:2},l=void 0,u={unversionedId:"troubleshooting",id:"troubleshooting",title:"Troubleshooting React Virtuoso",description:"React Virtuoso tries to hide as much complexity as possible while maintaining sensible behavior with any configuration.",source:"@site/docs/troubleshooting.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/troubleshooting",draft:!1,editUrl:"https://github.com/petyosi/react-virtuoso/edit/master/docs/troubleshooting.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"troubleshooting",title:"Troubleshooting React Virtuoso",sidebar_label:"Troubleshooting",slug:"/troubleshooting",sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Getting Started",permalink:"/"},next:{title:"100,000 Items",permalink:"/hello/"}},p={},c=[{value:"List is jumping around or misbehaving",id:"list-is-jumping-around-or-misbehaving",level:2},{value:"List does not scroll to the bottom / items jump around",id:"list-does-not-scroll-to-the-bottom--items-jump-around",level:2},{value:"Fix",id:"fix",level:3},{value:"I get &quot;Error: zero-sized element, this should not happen&quot;",id:"i-get-error-zero-sized-element-this-should-not-happen",level:2},{value:"Fix",id:"fix-1",level:3},{value:"Experiencing something else?",id:"experiencing-something-else",level:2}],m={toc:c},h="wrapper";function d(e){var t=e.components,o=(0,i.Z)(e,s);return(0,r.kt)(h,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"React Virtuoso tries to hide as much complexity as possible while maintaining sensible behavior with any configuration.\nThe magic has certain limits, so please check this section if something does not work as you expect."),(0,r.kt)("h2",{id:"list-is-jumping-around-or-misbehaving"},"List is jumping around or misbehaving"),(0,r.kt)("p",null,"The list relies on measuring the item sizes and dynamically updating its position based on the received data.\nThis is more of an art than science in some use cases, especially when it comes to reverse scrolling.\nCertain content factors like dynamic content (images, iframes, etc.) can cause trouble. "),(0,r.kt)("p",null,"To get a better sense of whether this is your case, you can enable debug logging either by setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"logLevel")," property to ",(0,r.kt)("inlineCode",{parentName:"p"},"LogLevel.DEBUG")," or by setting a ",(0,r.kt)("inlineCode",{parentName:"p"},"globalThis.VIRTUOSO_LOG_LEVEL")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"LogLevel.DEBUG"),".\nImport ",(0,r.kt)("inlineCode",{parentName:"p"},"LogLevel")," from the ",(0,r.kt)("inlineCode",{parentName:"p"},"react-virtuoso")," package.\nAfterward, set the logging level in your browser to ",(0,r.kt)("inlineCode",{parentName:"p"},'"all levels"')," and observe the messages for unexpected item sizes reported outside of the normal render cycle. "),(0,r.kt)("h2",{id:"list-does-not-scroll-to-the-bottom--items-jump-around"},"List does not scroll to the bottom / items jump around"),(0,r.kt)("p",null,"This is the most common setup error. It happens because the DOM elements inside the items (or the items themselves) have margins.\nMargins are hard to measure, more so if they collapse. Some elements (for example, ",(0,r.kt)("inlineCode",{parentName:"p"},"p"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"h*"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"ul"),") have default margins."),(0,r.kt)("h3",{id:"fix"},"Fix"),(0,r.kt)("p",null,"Use your browser inspector (the ",(0,r.kt)("inlineCode",{parentName:"p"},"computed")," tab next to ",(0,r.kt)("inlineCode",{parentName:"p"},"styles"),") and examine the list items. Margins are usually easy to spot.\nReplace them with padding."),(0,r.kt)("h2",{id:"i-get-error-zero-sized-element-this-should-not-happen"},'I get "Error: zero-sized element, this should not happen"'),(0,r.kt)("p",null,"Technically, this could have been a warning, but it is usually a sign of something not working as expected, so throwing an error seems better.\nThis means that you either have empty items (something which Virtuoso can't support), or you are hitting a bug of some sort\n(could be due to some exotic integration scenario)."),(0,r.kt)("h3",{id:"fix-1"},"Fix"),(0,r.kt)("p",null,"If you have zero-height items, you need to filter those out before passing them to the component.\nThe internal data structure needs a distinct position for each item. There's no way to fix this."),(0,r.kt)("p",null,"If you see this in another case (a user reported a problem in Cypress),\nplease reproduce it in codesandbox and post a comment in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/petyosi/react-virtuoso/issues/206"},"Issue #206"),"."),(0,r.kt)("h2",{id:"experiencing-something-else"},"Experiencing something else?"),(0,r.kt)("p",null,"Please ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/petyosi/react-virtuoso/issues/new"},"open an issue")," with reproduction in codesandbox."))}d.isMDXComponent=!0}}]);