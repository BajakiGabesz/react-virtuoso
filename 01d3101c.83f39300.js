(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{157:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(0),s=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var p=s.a.createContext({}),u=function(e){var t=s.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=u(e.components);return s.a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},m=s.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,f=d["".concat(i,".").concat(m)]||d[m]||l[m]||o;return n?s.a.createElement(f,a(a({ref:t},p),{},{components:n})):s.a.createElement(f,a({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:r,i[1]=a;for(var p=2;p<o;p++)i[p]=n[p];return s.a.createElement.apply(null,i)}return s.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},66:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(2),s=n(6),o=(n(0),n(157)),i={id:"prepend-items",title:"Prepending Items",sidebar_label:"Prepending Items",slug:"/prepend-items/"},a={unversionedId:"prepend-items",id:"prepend-items",isDocsHomePage:!1,title:"Prepending Items",description:"Appending items to the list is straightforward - the items at the bottom do not displace the currently rendered ones.",source:"@site/docs/prepend-items.md",slug:"/prepend-items/",permalink:"/prepend-items/",editUrl:"https://github.com/petyosi/react-virtuoso/edit/master/site/docs/prepend-items.md",version:"current",sidebar_label:"Prepending Items",sidebar:"someSidebar",previous:{title:"Endless Scrolling",permalink:"/endless-scrolling/"},next:{title:"Stick to Bottom",permalink:"/stick-to-bottom/"}},c=[],p={rightToc:c};function u(e){var t=e.components,n=Object(s.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Appending items to the list is straightforward - the items at the bottom do not displace the currently rendered ones.\nPrepending items is more complex because the current items should remain at their location, and their indexes should not be offset."),Object(o.b)("p",null,"This example shows how to increase the item count and instruct the component that you are prepending items by decreasing the ",Object(o.b)("inlineCode",{parentName:"p"},"firstItemIndex")," property\nvalue when the user scrolls to the top, creating ",Object(o.b)("strong",{parentName:"p"},"reverse endless scrolling"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx",metastring:"live include-data",live:!0,"include-data":!0}),"import { Virtuoso } from 'react-virtuoso'\nimport { generateUsers } from './data'\nimport { useState, useMemo, useCallback, useEffect, useRef } from 'react'\n\nexport default function App() {\n  const START_INDEX = 10000\n  const INITIAL_ITEM_COUNT = 100\n\n  const [firstItemIndex, setFirstItemIndex] = useState(START_INDEX)\n  const [users, setUsers] = useState(() => generateUsers(INITIAL_ITEM_COUNT, START_INDEX))\n\n  const prependItems = useCallback(() => {\n    const usersToPrepend = 20\n    const nextFirstItemIndex = firstItemIndex - usersToPrepend\n\n    setTimeout(() => {\n      setFirstItemIndex(() => nextFirstItemIndex)\n      setUsers(() => [...generateUsers(usersToPrepend, nextFirstItemIndex), ...users])\n    }, 500)\n\n    return false\n  }, [firstItemIndex, users, setUsers])\n\n  return (\n    <Virtuoso\n      style={{ height: 400 }}\n      firstItemIndex={firstItemIndex}\n      initialTopMostItemIndex={INITIAL_ITEM_COUNT - 1}\n      data={users}\n      startReached={prependItems}\n      itemContent={(index, user) => {\n        return (\n          <div style={{ backgroundColor: user.bgColor, padding: '1rem 0.5rem' }}>\n            <h4>\n              {user.index}. {user.name}\n            </h4>\n            <div style={{ marginTop: '1rem' }}>{user.description}</div>\n          </div>\n        )\n      }}\n    />\n  )\n}\n")))}u.isMDXComponent=!0}}]);